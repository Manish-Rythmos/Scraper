[{"title":"Experiencing problems downloading AssetBundles using WebClient","authorName":"Esteban.","createdDate":"2015-12-23T21:07:39Z","updatedDate":"2017-02-09T04:57:38Z","labels":["AssetBundles","WebClient"],"sections":[{"title":"Symptoms","content":["\n<li>Download speed while using WebClient is pretty slow.</li>\n"]},{"title":"CauseÂ ","content":["\n<li>WebClient, which uses WebRequest, is slow when downloading AssetBundles since the AssetBundles are made&#xA0;to be downloaded by the WWW class.</li>\n"]},{"title":"Resolution","content":["This is a potential workaround:&#xA0;Declare the WebClient&apos;s proxy to null (webClient.Proxy=null) since the Request is configured to auto detect proxies. If this is declared, it will avoid an initial delay. Also, there are three suggestions to speed up&#xA0;working with WebClient:","\n<li>Increase <em>DefaultConnectionLimit</em></li>\n<li>If it needs a proxy (e.g don&apos;t use webClient.Proxy = null) and its &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;settings are known, just establish the settings manually by script (e.g &#xA0;s<code class=\"csharp keyword\">tring &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0;</code><code class=\"csharp plain\">proxyUrl = </code><code class=\"csharp string\">&quot;proxy.myproxy.com&quot;</code><code class=\"csharp plain\">;&#xA0;</code><code class=\"csharp keyword\">int</code>&#xA0;<code class=\"csharp plain\">proxyPort = 8080;<span class=\"wysiwyg-font-size-medium\">)</span></code></li>\n<li>Deactivate <em>Expect100Continue</em></li>\n","Another possible resolution is to use the&#xA0;<a href=\"http://docs.unity3d.com/ScriptReference/WWW.html\">WWW</a> class. In Unity 5.2, if you use the <a href=\"http://docs.unity3d.com/ScriptReference/WWW.LoadFromCacheOrDownload.html\">WWW.LoadFromCacheOrDownload </a>method, &#xA0;the file will be saved uncompressed in small chunks to disk as it is being download. It will not all be loaded into memory when it is downloaded. In Unity 5.3 there is an option to store the file compressed in cache with the new support for LZ4 compression added to this release.&#xA0;"]},{"title":"More Information","content":["For more information see the links below:","<a href=\"http://stackoverflow.com/questions/754333/why-is-this-webrequest-code-slow\">http://stackoverflow.com/questions/754333/why-is-this-webrequest-code-slow</a>","<a href=\"http://www.scriptscoop.net/t/1f2d4a8a2004/c-webrequest-slow-even-with-null-proxy.html\">http://www.scriptscoop.net/t/1f2d4a8a2004/c-webrequest-slow-even-with-null-proxy.html</a>","<a href=\"http://en.code-bude.net/2013/01/21/3-things-you-should-know-to-speed-up-httpwebrequest/\">http://en.code-bude.net/2013/01/21/3-things-you-should-know-to-speed-up-httpwebrequest/</a>","<a href=\"https://holyhoehle.wordpress.com/2010/01/12/webrequest-slow/\">https://holyhoehle.wordpress.com/2010/01/12/webrequest-slow/</a>","<a href=\"http://stackoverflow.com/questions/2519655/httpwebrequest-is-extremely-slow\">http://stackoverflow.com/questions/2519655/httpwebrequest-is-extremely-slow</a>&#xA0;","This article applies to Unity versions 5.x","&#xA0;"]}]}]
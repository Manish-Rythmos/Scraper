[{"title":"Why doesn't a failed BuildPipeline.BuildPlayer return an error code in the command line?","authorName":"Andy Milsom.","createdDate":"2016-06-20T17:08:25Z","updatedDate":"2017-05-08T10:53:09Z","labels":["error","BuildPipeline.BuildPlayer","failed","command line"],"sections":[{"title":"Symptoms","content":["\n<li>Using <strong>-executeMethod</strong> and <strong>BuildPipeline.BuildPlayer</strong> fails when running Unity from the command line, and&#xA0;the exit code 0 (successful) is received where fail is expected.</li>\n"]},{"title":"If there are any exceptions or crashes when opening the project, an error code of failed will be returned.\nResolution\n","content":["\n<p>BuildPipeline.BuildPlayer returns a string - if this string is empty, the build was successful. The following code shows an example of reading the error and exiting Unity, sending the value 0 if the build was successful and 1 if it failed.</p>\n","string error = BuildPipeline.BuildPlayer( levels, &quot;iOS &quot;, BuildTarget.iOS, BuildOptions.None );\nif( string.IsNullOrEmpty( error ) )\n    EditorApplication.Exit( 0 );\nelse\n    EditorApplication.Exit( 1 );\n","Alternatively, if a specific exit code is required (not 1), then w<span class=\"wysiwyg-color-black\">hen an exception is thrown (for example&#xA0;<strong>throw new System.Exception( &quot;error message&quot; );</strong>), </span>Unity Editor will exit with exit code 1.","\n<p>Note that when calling <strong>EditorApplication.Exit</strong> from script, -quit is not necessary to automatically exit the Editor once it is completed as the method will already exit the Editor before the end. If an exception is thrown or other errors occur, however, the Editor will remain open if -quit is not used.</p>\n"]},{"title":"More Information\nFor more information, consult the following documentation:\n","content":["\n<ul>\n<li><a href=\"http://docs.unity3d.com/Manual/CommandLineArguments.html\">Command line arguments</a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/BuildPipeline.BuildPlayer.html\">BuildPipeline.BuildPlayer</a></li>\n<li><a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication.Exit.html\">EditorApplication.Exit</a></li>\n</ul>\n"]}]}]
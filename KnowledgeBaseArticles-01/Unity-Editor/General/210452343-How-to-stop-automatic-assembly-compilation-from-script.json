[{"title":"How to stop automatic assembly compilation from script","authorName":"Andy Milsom.","createdDate":"2016-05-19T16:18:35Z","updatedDate":"2016-12-21T10:16:47Z","labels":["Scripting","Compiler","Editor"],"sections":[{"title":"Symptoms","content":["\n<li>I do not always want Unity to reload&#xA0;my script assemblies.</li>\n<li>Recompiling script files during play mode is causing problems.</li>\n"]},{"title":"Cause","content":["Unity will recompile any changes to script files as soon as the changes are imported."]},{"title":"Resolution","content":["Unity provides a method for preventing the script assemblies from being loaded.","Firstly, create an Editor Script that will be loaded at while the project is open with&#xA0;<a href=\"http://docs.unity3d.com/ScriptReference/InitializeOnLoadAttribute.html\">[InitializeOnLoad]</a>, and receive update events from the Editor with the&#xA0;<a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication-update.html\">EditorApplication.update</a> delegate.","using UnityEditor;<br>using UnityEngine;<br><br>[InitializeOnLoad]<br>public&#xA0;class&#xA0;CompilerOptionsEditorScript<br>{<br> &#xA0;&#xA0;&#xA0;&#xA0;static&#xA0;CompilerOptionsEditorScript()<br> &#xA0;&#xA0;&#xA0;&#xA0;{<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EditorApplication.update&#xA0;+=&#xA0;OnEditorUpdate;<br> &#xA0;&#xA0;&#xA0;&#xA0;}<br> <br> &#xA0;&#xA0;&#xA0;&#xA0;static&#xA0;void&#xA0;OnEditorUpdate()<br> &#xA0;&#xA0;&#xA0;&#xA0;{<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if(&#xA0;EditorApplication.isCompiling&#xA0;)<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Debug.Log(&#xA0;&quot;Scripts&#xA0;are&#xA0;compiling&quot;&#xA0;);<br> &#xA0;&#xA0;&#xA0;&#xA0;}<br>}","When <a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication-isCompiling.html\">EditorApplication.isCompiling</a> is detected, use <a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication.LockReloadAssemblies.html\">EditorApplication.LockReloadAssemblies()</a> where needed to prevent Unity from compiling the scripts until <a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication.UnlockReloadAssemblies.html\">EditorApplication.UnlockReloadAssemblies()</a> is called.","To prevent scripts recompiling during PlayMode,&#xA0;<a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication-isPlaying.html\">EditorApplication.isPlaying</a> can be used to detect if the Editor is in PlayMode; and the <a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication-playmodeStateChanged.html\">EditorApplication.playmodeStateChange</a> event for changes to the state.","using UnityEditor;<br>using UnityEngine;<br><br>[InitializeOnLoad]<br>public&#xA0;class&#xA0;CompilerOptionsEditorScript<br>{<br> &#xA0; &#xA0;static bool waitingForStop = false;<br> <br>&#xA0;&#xA0;&#xA0;&#xA0;static&#xA0;CompilerOptionsEditorScript()<br>&#xA0;&#xA0;&#xA0;&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EditorApplication.update&#xA0;+=&#xA0;OnEditorUpdate;<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br><br>&#xA0;&#xA0;&#xA0;&#xA0;static&#xA0;void&#xA0;OnEditorUpdate()<br>&#xA0;&#xA0;&#xA0;&#xA0;{<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if( ! waitingForStop <br>            &amp;&amp; EditorApplication.isCompiling <br>            &amp;&amp; EditorApplication.isPlaying )<br>&#xA0; &#xA0; &#xA0; &#xA0; {<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0;EditorApplication.LockReloadAssemblies();<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; EditorApplication.playmodeStateChanged<br>                  +=&#xA0;PlaymodeChanged;<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; waitingForStop = true;<br> &#xA0; &#xA0; &#xA0; &#xA0;}<br>&#xA0;&#xA0;&#xA0;&#xA0;}<br><br> &#xA0; &#xA0;static&#xA0;void&#xA0;PlaymodeChanged()<br> &#xA0;&#xA0;&#xA0;{<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if(&#xA0;EditorApplication.isPlaying&#xA0;)<br>             return;<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EditorApplication.UnlockReloadAssemblies();<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EditorApplication.playmodeStateChanged<br>             -=&#xA0;PlaymodeChanged;<br> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;waitingForStop&#xA0;= false;<br> &#xA0;&#xA0;&#xA0;}<br>}"]},{"title":"More Information","content":["<a href=\"http://docs.unity3d.com/Manual/RunningEditorCodeOnLaunch.html\">http://docs.unity3d.com/Manual/RunningEditorCodeOnLaunch.html</a><br><a href=\"http://docs.unity3d.com/ScriptReference/EditorApplication.html\">http://docs.unity3d.com/ScriptReference/EditorApplication.html</a>"]}]}]
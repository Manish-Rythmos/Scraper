[{"title":"Why are assets in my Resources folder duplicated in my AssetBundles and how can I avoid that?","authorName":"Sergio Gomez.","createdDate":"2016-10-10T14:31:50Z","updatedDate":"2017-03-14T02:47:40Z","labels":["AssetBundles","Duplicate","Assets","AssetBundle","Resources"],"sections":[{"title":"Symptoms","content":["\n<li><span>The Assets in my </span><em><span>Resources </span></em><span>folder are being duplicated in my AssetBundles.</span></li>\n"]},{"title":"Cause","content":["<span>If an asset in an </span><span>AssetBundle </span><span>is referencing an asset that is not tagged into any bundle, this asset will be added to the bundle. This means that if it is also used in a scene, or referenced in another bundle, the asset will be duplicated. This is also true for assets in the Resource folder so if any asset in the </span><em><span>Resources </span></em><span>folder is added to an </span><span>AssetBundle</span><span>, it will be duplicated. This behaviour is implemented to prevent corrupted </span><span>AssetBundles</span><span>.</span><span><br></span><span><br></span><span>If a bundle references an asset that is not in a bundle, it might be built and the asset could be deleted afterwards. This would break the bundle after it has been built as a reference is now missing.</span>"]},{"title":"Resolution","content":["<span>It is important to have a clean separation between the </span><em><span>Resources </span></em><span>folder and </span><span>AssetBundles</span><span>. For every other asset it is important that all dependencies are also tagged in an AssetBundle to prevent duplication. It is necessary to be sure that there are no dependencies across </span><span>AssetBundles </span><span>and </span><em><span>Resources</span></em><span>. </span><span><br></span><span><br></span><span>An easy way to prevent this is to use </span><a href=\"https://docs.unity3d.com/ScriptReference/AssetDatabase.html\"><span>AssetDatabase</span></a><span>.</span><a href=\"https://docs.unity3d.com/ScriptReference/AssetDatabase.GetDependencies.html\"><span>GetDependencies</span></a><span>(</span><span>fullAssetPath</span><span>) </span><span>to check all dependencies for every asset that is going to be packed into an AssetBundle. If it is returning an asset stored in </span><span>Resources folder, then the asset should be removed from that folder or not tagged into any bundle.</span>"]},{"title":"More Information","content":["<a href=\"https://docs.unity3d.com/ScriptReference/AssetBundle.html\"><span>https://docs.unity3d.com/ScriptReference/AssetBundle.html</span></a>","<a href=\"https://docs.unity3d.com/Manual/BuildingAssetBundles.html\"><span>https://docs.unity3d.com/Manual/BuildingAssetBundles.html</span></a>"]}]}]
[{"title":"How do I delete AssetBundles from the cache?","authorName":"Daniel Robledo.","createdDate":"2016-01-19T21:11:18Z","updatedDate":"2017-03-14T02:51:25Z","labels":["AssetBundles","Delete","Download","Remove","Cache","AssetBundle"],"sections":[{"title":"SymptomsÂ ","content":["\n<li>I cannot download new AssetBundles.</li>\n<li>I want to update or remove an old version of my&#xA0;AssetBundles.</li>\n"]},{"title":"Cause","content":["You may be running out of space in your device (this issue was <a href=\"https://issuetracker.unity3d.com/issues/ios-www-dot-loadfromcacheordownload-does-not-remove-least-used-asset-bundle-if-storage-is-full\">fixed</a> in 5.3.4p2 and old AssetBundles are now deleted if there is no available space). Alternatively there may be problems with the downloaded&#xA0;AssetBundles."]},{"title":"Resolution","content":["<strong><em><em>Solution&#xA0;#</em>1:</em></strong>","\n<li>Use <strong>Caching.CleanCache()</strong>&#xA0;to delete all AssetBundles that have been cached by the current application.</li>\n<li>\n<p><strong>Caching.CleanCache()</strong>&#xA0;returns a bool depending if it was able to complete the operation or not:</p>\n<pre>public static void CleanCache ()<br>{<br>   if (Caching.CleanCache ()) <br>   {<br>      Debug.Log(&quot;Successfully cleaned the cache.&quot;);<br>   }<br>   else <br>   {<br>      Debug.Log(&quot;Cache is being used.&quot;);<br>   }<br>}&#xA0;</pre>\n</li>\n","<strong><em><em>Solution&#xA0;#</em>2:</em></strong>","\n<li>Use&#xA0;<strong>Caching.expirationDelay</strong>&#xA0;to set&#xA0;the&#xA0;number of seconds that an AssetBundle may remain unused in the cache before it is automatically deleted.&#xA0;When a bundle is downloaded, the timestamp is stored for that given bundle.</li>\n","\n<li>To set the <strong>expirationDelay</strong> property, there needs to be an entry for your application in the Cache folder. That setting is stored in a file in your applications&apos;s root Cache folder. If the folder for your application does not exist, the file cannot be written. For that entry to exist you need to first request a bundle. So in order to set the <strong>expirationDelay</strong>, first request at least one bundle which will create the folder for your app&apos;s bundles. You could use any bundle just to make sure the folder exists before you call that property.</li>\n","Both solutions can be used individually, or at the same time."]},{"title":"More Information","content":["<a href=\"http://docs.unity3d.com/ScriptReference/Caching.html\">http://docs.unity3d.com/ScriptReference/Caching.html</a>","<a href=\"http://docs.unity3d.com/ScriptReference/Caching.CleanCache.html\">http://docs.unity3d.com/ScriptReference/Caching.CleanCache.html</a>","<a href=\"http://docs.unity3d.com/ScriptReference/Caching-expirationDelay.html\">http://docs.unity3d.com/ScriptReference/Caching-expirationDelay.html</a>"]}]}]
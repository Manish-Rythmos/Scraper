[{"title":"Camera.main is slow","authorName":"Dan W.","createdDate":"2017-01-06T13:43:24Z","updatedDate":"2017-05-09T15:46:18Z","labels":["Scripting","optimizing","Performance","Camera","Camera.main","Optimize","Optimise","Slow"],"sections":[{"title":"Symptoms","content":["\n<li>I use Camera.main many times in scripts and I want to optimize my game performance.</li>\n"]},{"title":"Cause","content":["<span>Camera.main takes more time to execute than you might expect. If you use it many times per game loop, you will be wasting time unnecessarily.</span>","<span>Below you can see the cost reported by the profiler&#xA0;Camer.main (Camer.get_main() in the profiler) when being called 100000 times in this extreme example.</span>","<span><img src=\"/hc/en-us/article_attachments/115001472026/Screen_Shot_2017-01-30_at_11.25.39.png\" alt=\"\" width=\"712\" height=\"217\"></span>"]},{"title":"Resolution","content":["You should store a reference to each of your Cameras once in the lifetime of that Camera, and then use that stored reference in the rest of the code. For example:","\n<tbody>\n<tr>\n<td>\n<p><strong>// Initialization code for scene</strong></p>\n<p><strong>Camera mainCamera = Camera.main;</strong></p>\n<p><strong>// Game code, executed once per frame or more</strong></p>\n<p><strong>Vector3 pos = mainCamera.transform.position;</strong></p>\n</td>\n</tr>\n</tbody>\n","<span><img src=\"/hc/en-us/article_attachments/115001472066/Screen_Shot_2017-01-30_at_11.26.06.png\" alt=\"\" width=\"712\" height=\"206\"></span>","<span>Below is the same test as above but using the Camera MainCamera = Camera.main reference instead of calling Camer.main. You can see the time spent in Update() is considerably lower.</span>"]},{"title":"More Information","content":["Camera.main returns the first Camera in the scene tagged &quot;MainCamera&quot;, so it may be slower if you have additional Cameras that are tagged differently. Even for a single Camera, the tag checking means it will always be slower than a direct reference.","Script Reference page:&#xA0;<a href=\"https://docs.unity3d.com/ScriptReference/Camera-main.html\">https://docs.unity3d.com/ScriptReference/Camera-main.html</a>","&#xA0;"]}]}]
[{"title":"How to modify Perforce settings via script","authorName":"Jordi Bonastre.","createdDate":"2016-03-18T10:16:39Z","updatedDate":"2016-12-21T10:07:57Z","labels":["Scripting","perforce","Version Control"],"sections":[{"title":"Symptoms","content":["\n<li><a href=\"http://docs.unity3d.com/ScriptReference/EditorPrefs.html\">EditorPrefs</a> class allows me to modify&#xA0;Perforce settings via script, but the keys are not published on Unity Docs.</li>\n"]},{"title":"Cause","content":["<a href=\"http://docs.unity3d.com/ScriptReference/EditorPrefs.html\">EditorPrefs</a> class allows to modify&#xA0;Perforce settings via script to minimize user input. The keys are not published on Unity Docs, but are accessible on BitBucket."]},{"title":"Resolution","content":["\n<p>The source of the built-in version control plugins that are shipped with Unity is open source on <a href=\"https://bitbucket.org/Unity-Technologies/versioncontrolplugins\" target=\"_blank\">Bitbucket</a>.</p>\n<p>Perforce settings are visible here: <a href=\"https://bitbucket.org/Unity-Technologies/versioncontrolplugins/src/dba3f95436497a5cc91c661772671e0e3f87e7e6/P4Plugin/Source/P4Command.cpp?at=master&amp;fileviewer=file-view-default\" target=\"_blank\">VersionControlPlugins/P4Plugin/Source/P4ConfigCommand.cpp</a>&#xA0;and all the commands are available.</p>\n<p>The most important ones to note are:</p>\n<p><em>vcPerforceUsername -&gt; string</em><br><em>vcPerforcePassword -&gt; string</em><br><em>vcPerforceWorkspace -&gt; string</em><br><em>vcPerforceServer -&gt; string</em><br><em>vcPerforceHost -&gt; string</em><br><em>vcSharedLogLevel -&gt; one of these strings: &quot;notice&quot;, &quot;fatal&quot; or &quot;info&apos;</em></p>\n<p>The following script&#xA0;is executed when the Editor is launched and changes the Perforce settings:&#xA0;</p>\n","\n<pre><span>using</span> <span>UnityEngine</span>;\n<span>using</span> <span>UnityEditor</span>;\n\n<span>[InitializeOnLoad]</span>\n<span>public</span> <span>class</span> <span>PerforceSettings</span> {\n    <span>static</span> <span>PerforceSettings</span> () {\n        EditorUserSettings.SetConfigValue (<span>&quot;vcPerforceUsername&quot;</span>,  <span>&quot;myUserName&quot;</span>);\n        EditorUserSettings.SetConfigValue (<span>&quot;vcPerforcePassword&quot;</span>,  <span>&quot;myPassword&quot;</span>);\n        EditorUserSettings.SetConfigValue (<span>&quot;vcPerforceWorkspace&quot;</span>, <span>&quot;myWorkspace&quot;</span>);\n        EditorUserSettings.SetConfigValue (<span>&quot;vcPerforceServer&quot;</span>,    <span>&quot;10.11.12.13:1234&quot;</span>);\n        EditorUserSettings.SetConfigValue (<span>&quot;vcPerforceHost&quot;</span>,      <span>&quot;Hostname&quot;</span>);\n        EditorUserSettings.SetConfigValue (<span>&quot;vcSharedLogLevel&quot;</span>,    <span>&quot;info&quot;</span>);  <span>//&quot;notice&quot;, &quot;fatal&quot; or &quot;info&quot;;</span>\n    }\n}\n</pre>\n","&#xA0;"]},{"title":"More Information","content":["<a href=\"https://bitbucket.org/Unity-Technologies/versioncontrolplugins/src/dba3f95436497a5cc91c661772671e0e3f87e7e6/P4Plugin/Source/P4Command.cpp?at=master&amp;fileviewer=file-view-default\" target=\"_blank\">P4ConfigCommand.cpp</a>","<a href=\"http://docs.unity3d.com/ScriptReference/EditorPrefs.html\" target=\"_blank\">http://docs.unity3d.com/ScriptReference/EditorPrefs.html</a>","&#xA0;"]}]}]